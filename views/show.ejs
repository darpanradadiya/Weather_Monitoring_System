<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
    <style>
        html,
        body {
            height: 100%;
            padding: 0;
            margin: 0;
        }

        div {
            width: 50%;
            height: 50%;
            float: left;
        }

        #charts {
            margin: 0;
            padding: 0;
        }

        #div1 {
            padding: 20px;
            padding-top: 60px;
            border-right: 2px solid black;
            border-bottom: 2px solid black;
        }

        #div2 {
            padding: 20px;
            padding-top: 60px;
            border-bottom: 2px solid black;
        }

        #div3 {
            padding: 20px;
            border-right: 2px solid black;
        }

        #div4 {
            padding: 20px;
        }
    </style>
</head>

<body>
    <%- include('partials/navbar') %>
        <div id="div1">
            <div style="display: none;" id="chart1"><%= temp1 %></div>
            <canvas id="myChart1"></canvas>
        </div>
        <div id="div2">
            <div style="display: none;" id="chart2"><%= temp2 %></div>
            <canvas id="myChart2"></canvas>
        </div>
        <div id="div3">
            <div style="display: none;" id="chart3"><%= temp3 %></div>
            <canvas id="myChart3"></canvas>
        </div>
        <div id="div4">
            <div style="display: none;" id="chart4"><%= temp4 %></div>
            <canvas id="myChart4"></canvas>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
            integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
            crossorigin="anonymous"></script>
        <script>
            const ctx1 = document.getElementById('myChart1');

            new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: ['0', '5', '10', '15', '20', '25', '30', '40', '45'],
                    datasets: [{
                        label: 'Temperature',
                        // data: [12, 19, 3, 5, 2, 3, 43, 56, 12, 67],
                        data: document.getElementById('chart1').innerHTML.slice(1,-1).split(','),
                        borderWidth: 2,
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            const ctx2 = document.getElementById('myChart2');

            new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: ['0', '5', '10', '15', '20', '25', '30', '40', '45'],
                    datasets: [{
                        label: 'Voltage',
                        // data: [10,2,11, 16, 21, 5, 3, 24, 14,35],
                        data: document.getElementById('chart2').innerHTML.slice(1,-1).split(','),
                        borderWidth: 2,
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            const ctx3 = document.getElementById('myChart3');

            new Chart(ctx3, {
                type: 'line',
                data: {
                    labels: ['0', '5', '10', '15', '20', '25', '30', '40', '45'],
                    datasets: [{
                        label: 'Current',
                        // data: [22, 9, 13, 25, 22, 13, 4, 16, 42, 56],
                        data: document.getElementById('chart3').innerHTML.slice(1,-1).split(','),
                        borderWidth: 2,
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            const ctx4 = document.getElementById('myChart4');

            new Chart(ctx4, {
                type: 'line',
                data: {
                    labels: ['0', '5', '10', '15', '20', '25', '30', '40', '45'],
                    datasets: [{
                        label: 'Humidity',
                        data: document.getElementById('chart4').innerHTML.slice(1,-1).split(','),
                        // data: [25, 19, 23, 5, 2, 23, 3, 6, 62, 7],
                        borderWidth: 2,
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            var cnt = 0;
            document.querySelector("#dark").addEventListener('click', function(e){
                e.preventDefault();
                if(cnt%2 == 0){
                    document.body.style.backgroundColor = "#000";
                    cnt++;
                } 
                else{
                    document.body.style.backgroundColor = "#FFF";
                    cnt++;
                }
            })
        </script>
</body>

</html>